/*!
 * Stencil JavaScript Templating Engine v1.0.3
 * git://github.com/watermelonbunny/Stencil.git
 * Watermelonbunny
 */
var Stencil=function(a,b){b=b||{};var c={},d=a||"Templates.html",e=b.templateTagName||"template",f=function(){var a=typeof document.defaultView.Node==="object"?document.defaultView.Node:{ELEMENT_NODE:1,TEXT_NODE:3,DOCUMENT_FRAGMENT_NODE:11};return function(b,c){c=c.toUpperCase();return typeof b.nodeType==="number"&&b.nodeType===a[c]}}(),g=function(a){if(typeof a!=="string"){new Error("Stencil.js Error: Attribute name must be a string");return undefined}var b={IF:"sys-if",LISTENER:"sys-listener",LISTENER_SEPERATOR:"::",DATA:"sys-data",TEMPLATE:"sys-template",INCLUDE:"sys-include",CONVERT:"sys-convertdata",HANDLE:"sys-handleelement"};return b[a.toUpperCase()]},h=function(){return/\{\{.*\}\}/gmi},i=function(a){return a.replace(/(^[\s]+|[\s]+$)/g,"")},j=function(a){return a.replace(/\{\{( )*/gmi,"").replace(/( )*\}\}/gmi,"")},k=function(a){var b=a.split("."),c=document.defaultView,d=0,e=b.length;for(;d<e;d++){c=c[b[d]]}return c},l=function(a){var b=false;try{b=a instanceof HTMLElement}catch(c){b=typeof a==="object"&&f(a,"ELEMENT_NODE")&&typeof a.style==="object"&&typeof a.ownerDocument==="object"}return b},m=function(){if(typeof document.defaultView.addEventListener==="function"){return function(a,b,c){if(!l(a)||typeof b!=="string"||typeof c!=="function"){new Error("Stencil.js Error: Listener not attached")}else{var d=b.split(","),e=d.length;while(e--){a.addEventListener(i(d[e]),c)}}return a}}else if(typeof document.attachEvent==="function"){return function(a,b,c){if(!isDOMElement(a)||typeof b!=="string"||typeof c!=="function"){new Error("Stencil.js Error: Listener not attached")}else{var d=b.split(","),e=d.length;while(e--){a.attachEvent(i(d[e]),c)}}return a}}else{return function(a,b,c){if(!isDOMElement(a)||typeof b!=="string"||typeof c!=="function"){new Error("Stencil.js Error: Listener not attached")}else{var d=b.split(","),e=d.length;while(e--){a["on"+i(d[e])]=c}}return a}}}(),n=function(){if(typeof document.defaultView.removeEventListener==="function"){return function(a,b,c){if(!isDOMElement(a)||typeof b!=="string"||typeof c!=="function"){new Error("Stencil.js Error: Listener not attached")}else{var d=b.split(","),e=d.length;while(e--){a.removeEventListener(i(d[e]),c)}}return a}}else if(typeof document.detachEvent==="function"){return function(a,b,c){if(!isDOMElement(a)||typeof b!=="string"||typeof c!=="function"){new Error("Stencil.js Error: Listener not attached")}else{var d=b.split(","),e=d.length;while(e--){a.detachEvent(i(d[e]),c)}}return a}}else{return function(a,b){if(!isDOMElement(a)||typeof b!=="string"){new Error("Stencil.js Error: Listener not attached")}else{var c=b.split(","),d=c.length;while(d--){a["on"+i(c[d])]=null}}return a}}}(),o=function(a){if(f(c[a],"ELEMENT_NODE")===false){new Error("Stencil.js Error: Template not found");return false}return c[a].cloneNode(true)},p=function(a){var b=typeof a==="string"?o(a):a,c=document.createDocumentFragment(),d=b.childNodes;while(b.childNodes.length>0){if(typeof b.childNodes[0]==="object"&&f(b.childNodes[0],"ELEMENT_NODE")){c.appendChild(b.childNodes[0])}else{b.removeChild(b.childNodes[0])}}b=null;return c},q=function(a,b){for(var c in b){var d=new RegExp("\\{{( )*"+c+"( )*\\}}","gmi");a=a.replace(d,b[c])}return a},r=function(a,b){var c=a.nodeValue,d,e;for(e in b){c=q(c,b)}c=c.replace(h(),"");d=document.createTextNode(c);a.parentNode.replaceChild(d,a);return c},s=function(a,b){if(typeof a.attributes==="object"&&a.attributes!==null){var c=a.attributes.length,d={"if":g("if"),listener:g("listener"),handle:g("handle"),include:g("include"),convert:g("convert")},e=b[a.getAttribute(d["convert"])];if(typeof e==="function"){b=w(b,e(b));a.removeAttribute(d["convert"]);c=a.attributes.length}while(c--){switch(a.attributes[c].name){case d["if"]:if(!b[j(a.getAttribute(d["if"]))]){a.parentNode.removeChild(a)}else{a.removeAttribute(d["if"])}break;case d["listener"]:t(a,j(a.getAttribute(d["listener"])),b);a.removeAttribute(d["listener"]);break;case d["handle"]:codeafter=b[j(a.getAttribute(d["handle"]))];if(typeof codeafter==="function"){codeafter(a)}break;case d["include"]:a.appendChild(Stencil.get(j(a.getAttribute(d["include"])),b));a.removeAttribute(d["include"]);break;default:u(a,a.attributes[c].name,b);break}}}return a},t=function(a,b,c){var d=g("listener_seperator");if(typeof b!=="string"||b.indexOf(d)===-1||typeof c!=="object"){return false}var e=b.split(d),f=typeof c[e[1]]==="function"?c[e[1]]:k(e[1]);if(typeof f==="function"){m(a,e[0],f)}},u=function(a,b,c){a.setAttribute(b,q(a.getAttribute(b),c));return a},v=function(a,b){var c=a.childNodes.length;if(f(a,"TEXT_NODE")&&h().test(a.nodeValue)){r(a,b)}else{if(f(a,"ELEMENT_NODE")&&typeof a.getAttribute(g("data"))==="string"){x(a,b)}else{if(f(a,"DOCUMENT_FRAGMENT_NODE")===false){s(a,b)}while(c--){v(a.childNodes[c],b)}}}return a},w=function(a,b){for(var c in b){a[c]=b[c]}return a},x=function(a,b){if(typeof b!=="object"){return false}var c=b[a.getAttribute(g("data"))],d=a.getAttribute(g("template")),e=b[a.getAttribute(g("convert"))],f=a.parentNode;if(typeof c.length==="number"){var h=y(d,c,e);f.replaceChild(h,a)}return f},y=function(a,b,c){var d=document.createDocumentFragment(),e={};for(var f=0,g=b.length;f<g;f++){c=typeof c==="function"?c(b[f]):b[f];convertedData=w(b[f],c);d.appendChild(Stencil.get(a,convertedData))}return d};(function(a){var b=new XMLHttpRequest,d=document.implementation.createHTMLDocument("TemplatesDocument"),f=[],g=0;b.open("GET",a,false);b.setRequestHeader("Content-Type","text/html");b.onload=function(a){if(b.readyState===4&&(b.status===200||b.status===0)){d.body.innerHTML=b.responseText;f=d.getElementsByTagName(e);g=f.length;while(g--){c[f[g].getAttribute("name")]=f[g]}d=null}};b.send()})(d);return{get:function(a,b,c){c=typeof c==="function"?c:function(a){return a};return c(v(p(a),b))},append:function(a,b,c,d){a=typeof a==="string"?document.querySelector(a):a;return a.appendChild(this.get(b,c,d))},clearAndAppend:function(a,b,c,d){a=typeof a==="string"?document.querySelector(a):a;a.innerHTML="";return this.append(a,b,c,d)}}}
Stencil=Stencil("Templates.html",{templateTagName:"template"})