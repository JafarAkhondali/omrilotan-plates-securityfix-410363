<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
		<script src='../Trunk/Stencil.js'></script>
	</head>
	<body>
		<h1>test bed</h1>
		<h3>list example</h3>
		<div id='list_example'></div>
		<h3>include example</h3>
		<div id='include_example'></div>
		<h3>convert data example</h3>
		<div id='convert_example'></div>
		<script>
// list example
			var dataitem = {
				listData: [
					{
						text: 'list item 1',
						clickHanlder: function (evt) {
							evt = evt || window.event;
							var target = evt.target || evt.srcElement;
							target.style.color = 'red';
						}
					},
					{
						text: 'list item 2',
						clickHanlder: function (evt) {
							evt = evt || window.event;
							var target = evt.target || evt.srcElement;
							target.style.color = 'blue';
						}
					},
					{
						text: 'list item 3',
						clickHanlder: function (evt) {
							evt = evt || window.event;
							var target = evt.target || evt.srcElement;
							target.style.color = 'green';
						}
					},
					{
						text: 'list item 4',
						clickHanlder: function (evt) {
							evt = evt || window.event;
							var target = evt.target || evt.srcElement;
							target.style.color = 'brown';
						}
					},
					{
						text: 'list item 5',
						clickHanlder: function (evt) {
							evt = evt || window.event;
							var target = evt.target || evt.srcElement;
							target.style.color = 'purple';
						}
					}
				]
			};
			Stencil.append('#list_example', 'list', dataitem);
// include example
			var Page = {
				handlers: {
					click: function (evt) {
						evt = evt || window.event;
						var target = evt.target || evt.srcElement,
							node = document.createTextNode(' clicked!');
						target.appendChild(node);
					}
				}
			};
			var dataitem = {
				text_one: 'I am one template',
				text_two : 'I am another template',
				turnRed: function (element) {
					setTimeout(function () {
						element.style.color = 'red';
					}, 1000);
				},
				convertData: function (dataitem) {
					return dataitem.text_one += '!';
				}
			};
			Stencil.append('#include_example', 'one_template', dataitem);
// convert example
			var dataitem = {
				listData: [
					{
						time: new Date(),
						showMe: true
					},
					{
						time: new Date(),
						showMe: false
					}
				],
				convertTime: function (dataitem) {
					// a function within the closure
					var toDoubleDigit = function (num) {
						num = num + '';
						return num.length < 2 ? '0' + num : num;
					};
					return {
						time: toDoubleDigit(dataitem.time.getHours()) + ':' + toDoubleDigit(dataitem.time.getMinutes())
					}
				}
			};
			Stencil.append('#convert_example', 'converted_template', dataitem);
		</script>
	</body>
</html>