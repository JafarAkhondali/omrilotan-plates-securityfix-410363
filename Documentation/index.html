<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv='Content-Type' content='text/html; charset=UTF-8' />
		<title>Stencil = Javascript Templating Engine</title>
		<link rel='stylesheet' href='styles.css' />
	</head>
	<body>
		<div class='outer_wrap'>
			<div class='inner_wrap'>
				<h1>
                    Stencil = Javascript Templating Engine
                    <a class='github' href='https://github.com/watermelonbunny/Stencil'>project on github</a>
                    <div class='clear'></div>
                </h1>
				<div class='seperator'></div>
				<h2>overview</h2>
                <p>
                    Once initialized, Stencil exposes four methods;
                </p>
                <ol>
                    <li>
                        <samp>get</samp>
                    </li>
                    <li>
                        <samp>append</samp>
                    </li>
                    <li>
                        <samp>insert</samp>
                    </li>
                    <li>
                        <samp>clearAndAppend</samp>
                    </li>
                </ol>
                <div class='semi_seperator'></div>
                <h3>the <samp>get</samp> method</h3>
                <p>
                    <samp>get</samp> is the first and most important function. All the other methods (<samp>append</samp>, <samp>insert</samp> and <samp>clearAndAppend</samp>) eventually call it.<br />
                    It expects up to 3 arguments; <samp>templateName, dataitem, runcode</samp>.<br />
                    it returns a <em>document fragment node</em> which you should append to the document yourself.<br />
                </p>
                <ol>
                    <li>
                        The <samp>templateName</samp> argument is mandatory and contains the name on the template identified in the templates HTML document: <samp>&lt;template name="my_template"></samp>. the method will return a fragment containing the first generation child elements respectively and their offsprings.<br />
                    </li>
                    <li>
                        The <samp>dataitem</samp> argument is optional, and is an Object containing data which the template engine will relate while processing the template. For instance, a node which looks like this: <samp>{{ myText }}</samp> will look for the <samp>dataitem["myText"]</samp> member and will replace it with it's value.
                        <h4>Example:</h4>
                        <p>
                            templates.html:
                            <code>&lt;template name="my_template">
    &lt;div>
        {{ myText }}
    &lt;/div>
&lt;/template></code>
                        </p>
                        <p>
                            on page script:
                            <code>var dataitem = { "myText": "hello, world" };
var myFragment = Stencil.get("my_template", dataitem);</code>
                        </p>
                        <p>eventual <samp>myFragment</samp> markup:
                            <code>&lt;div>
    hello, world
&lt;/div></code>
                        </p>
                    </li>
                    <li>
                        The <samp>runcode</samp> argument is optional, and excepts a method which executes after the fragment is ready and accepts it as it's single argument
                        <code>var runcode = function (fragment){
    doSomethingWith(fragment);
};
var myFragment = Stencil.get("my_template", dataitem, runcode);</code>
                    </li>
                </ol>
                <div class='semi_seperator'></div>
                <h3>the <samp>append</samp>, <samp>insert</samp> and <samp>clearAndAppend</samp> methods</h3>
                <p>
                    Each one of these methods expects up to 4 arguments. Where the last 3 are the <samp>get</samp> method 3 arguments, the first argument is either a DOM Element or a query selector (e.g. <samp>"#my_div"</samp>).
                </p>
                <p>
                    <samp>append</samp> appends the fragment to the DOM Element
                </p>
                <p>
                    <samp>insert</samp> inserts the fragment to the DOM Element at the first position possible
                </p>
                <p>
                    <samp>clearAndAppend</samp> clears the DOM Element then appends the fragment to it
                </p>
                <code>Stencil.append('#my_div', 'my_template', dataitem);</code>
				<div class='seperator'></div>
				<h2>modifiers</h2>
                <p>
                    The templates may include system attributes which are used for modifying the data and markup.<br />
                    These modifiers are
                    <ul>
                        <li><samp>sys-if</samp></li>
                        <li><samp>sys-include</samp></li>
                        <li><samp>sys-handleelement</samp></li>
                        <li><samp>sys-listener</samp></li>
                        <li><samp>sys-template</samp></li>
                        <li><samp>sys-data</samp></li>
                        <li><samp>sys-convertdata</samp></li>
                    </ul>
                </p>
                <div class='semi_seperator'></div>
                <h3>the <samp>sys-if</samp> attribute</h3>
                <p>
                    <code>&lt;div sys-if="bool">&lt;/div></code>
                    this attribute will tell the script to search <samp>dataitem</samp> for the key specified in the value, convert it to boolean then decide whether or not the engine should render that element. return values of false, null, undefined, 0 or an empty string will cause the engine to skip the element. also because undefied converts to a false boolean, a missing member would do the same.
                </p>
                <div class='semi_seperator'></div>
                <h3>the <samp>sys-include</samp> attribute</h3>
                <p>
                    <code>&lt;div sys-include="another_template">&lt;/div></code>
                    this attribute will include another template in place of the element given this attribute (the element will be replaced). The other template will continue to use the same dataitem.
                </p>
                <div class='semi_seperator'></div>
                <h3>the <samp>sys-handleelement</samp> attribute</h3>
                <p>
                    <code>&lt;div sys-handleelement="func">{{ text }}&lt;/div></code>
                    This attribute expects a function which accepts the element holding this attribute as it's only argument. It will execute right after the element is generated but still in the stage of computations, before it joins the display (it's appended to the fragment but not the document).<br />
                    The method may be a member of dataitem or not (e.g. <samp>"myApp.elementMethods.myMethod"</samp>).
                </p>
                <div class='semi_seperator'></div>
                <h3>the <samp>sys-listener</samp> attribute</h3>
                <p>
                    <code>&lt;li sys-listener="click::myClickHanlder">{{ text }}&lt;/li></code>
                    This attribute excepts a string composed of two parts. The two parts are seperated by a double colon <samp>::</samp>. The first part is one or more names of events the listener should apply an event listener to. Multiple listeners which hold the same result may look like this: <samp>sys-listener="keyup, keydown, change::handleText"</samp>.<br />
                    The method may be a member of dataitem or not (e.g. <samp>"myApp.eventHandlers.myMethod"</samp>).
                </p>
                <div class='semi_seperator'></div>
                <h3>the <samp>sys-template</samp> and <samp>sys-data</samp> attributes</h3>
                <p>
                    <code>&lt;div sys-template="list_item" sys-data="listData" sys-convertdata="convertData">&lt;/div></code>
                    Those two attributes are a pair. In a case of repetitive data structures which require a representation such as lists, tables or grids, a sub-template may be used. the element holding the <samp>sys-template</samp> attribute will be replaces with 0 or more of the template named as it's value, following an array of dataitems represented by the <samp>sys-data</samp> attribute's value.
                    In case of using these templates:
                    <code>&lt;template name="list">
	&lt;ol>
		&lt;div sys-template="list_item" sys-data="listData">&lt;/div>
	&lt;/ol>
&lt;/template>
&lt;template name="list_item">
	&lt;li sys-listener="click::clickHanlder">{{ text }}&lt;/li>
&lt;/template></code>
                    list's data structure may look like this:
                    <code>var dataitem = {
    listData: [
        {
            text: "my text",
            clickHanlder: function (evt) {
                alert(evt.target.innerHTML);
            }
        },{
            text: "my second text",
            clickHanlder: function (evt) {
                alert('hello again!');
            }
        }
    ];
};</code>
                </p>
                <div class='semi_seperator'></div>
                <h3>the <samp>sys-convertdata</samp> attribute</h3>
                <p>
                    <code>&lt;div sys-convertdata="convertData">{{ text }}&lt;/div></code>
                    <code>&lt;div sys-template="list_item" sys-data="listData" sys-convertdata="convertData">&lt;/div></code>
                    This attribute will run the dataitem through a function (attribute's value) which may convert members of the dataitem. The function accepts the dataitem as it's only argument, the dataitem and the return object then get combined to fill in whatever members the converted dataitem did not cover but do exist on the dataitem.
                </p>
                <div class='semi_seperator'></div>
                <h3>the <samp>sys-reverse</samp> attribute</h3>
                <p>
                    <code>&lt;div sys-template="list_item" sys-data="listData" sys-reverse="true">&lt;/div></code>
                    This attributes refers to the cycle of submitting children to a parent. when this attribute exists and represent a true boolean, the children will append in reveres order. last data array member first and so on.<br />
                    You may set the value to a member of the dataitem which converts into a boolean (false, null, undefined, 0 or an empty string translates to false), you may use a javascript object (myApp.conditions.doReverse) or you may just use the "true" or "false" strings.
                </p>
                <div class='semi_seperator'></div>
                <h3>other attributes</h3>
                <code>&lt;div class="my_div {{ dynamic_class }}">{{ text }}&lt;/div></code>
                <p>
                    all other attributes go through the same filters as text, and may have rewritable parts in their value.
                </p>
				<div class='seperator'></div>
				<h2>initiating Stencil</h2>
                <p>
                    Stencil library needs to be initialized. Before initialization Stencil is a function, you may initialize in this way:
                    <code>Stencil = Stencil();</code>
                    or you may take it in to your own namespace or global object:
                    <code>myApp.template = Stencil();</code>
                    Stencil expects two arguments. The first is the location in which the templates file is located: <samp>Stencil("Templates.html");</samp>, and the second is an optional options object.<br />
                    The options mambers may include 0 or more of the following items:
                    <ul>
                        <li><samp>templateTagName</samp> - is the tagname to search for the templates. default is "template"</li>
                    </ul>
                    <code>Stencil = Stencil("Templates.html", { templateTagName: "template" });</code>
                    <em>further customization support was deprecated at the moment for clearer maintenance of the engine</em>
                </p>
			</div>
			<div class='footer'>
				<img src='data:image/gif;base64,R0lGODlhEAAQAPcGAEOFA6IKZSJEAf8Amf///zNmAP///wcHBwgICAkJCQoKCgsLCwwMDA0NDQ4ODg8PDxAQEBERERISEhMTExQUFBUVFRYWFhcXFxgYGBkZGRoaGhsbGxwcHB0dHR4eHh8fHyAgICEhISIiIiMjIyQkJCUlJSYmJicnJygoKCkpKSoqKisrKywsLC0tLS4uLi8vLzAwMDExMTIyMjMzMzQ0NDU1NTY2Njc3Nzg4ODk5OTo6Ojs7Ozw8PD09PT4+Pj8/P0BAQEFBQUJCQkNDQ0REREVFRUZGRkdHR0hISElJSUpKSktLS0xMTE1NTU5OTk9PT1BQUFFRUVJSUlNTU1RUVFVVVVZWVldXV1hYWFlZWVpaWltbW1xcXF1dXV5eXl9fX2BgYGFhYWJiYmNjY2RkZGVlZWZmZmdnZ2hoaGlpaWpqamtra2xsbG1tbW5ubm9vb3BwcHFxcXJycnNzc3R0dHV1dXZ2dnd3d3h4eHl5eXp6ent7e3x8fH19fX5+fn9/f4CAgIGBgYKCgoODg4SEhIWFhYaGhoeHh4iIiImJiYqKiouLi4yMjI2NjY6Ojo+Pj5CQkJGRkZKSkpOTk5SUlJWVlZaWlpeXl5iYmJmZmZqampubm5ycnJ2dnZ6enp+fn6CgoKGhoaKioqOjo6SkpKWlpaampqenp6ioqKmpqaqqqqurq6ysrK2tra6urq+vr7CwsLGxsbKysrOzs7S0tLW1tba2tre3t7i4uLm5ubq6uru7u7y8vL29vb6+vr+/v8DAwMHBwcLCwsPDw8TExMXFxcbGxsfHx8jIyMnJycrKysvLy8zMzM3Nzc7Ozs/Pz9DQ0NHR0dLS0tPT09TU1NXV1dbW1tfX19jY2NnZ2dra2tvb29zc3N3d3d7e3t/f3+Dg4OHh4eLi4uPj4+Tk5OXl5ebm5ufn5+jo6Onp6erq6uvr6+zs7O3t7e7u7u/v7/Dw8PHx8fLy8vPz8/T09PX19fb29vf39/j4+Pn5+fr6+vv7+/z8/P39/f7+/v///yH5BAEAAAYALAAAAAAQABAAAAhaAA0IHEiwYMEABgUYNBBgAMKBAgooPOiQYMSJBBtWNBBR4sKGAkJeXMixgMmTGC2eXOmxYEcAMAGYTCkwosyTMmnWZNlyoUiRJCGafBi0Y4GNJI32TDizY8qAADs=' />
			</div>
		</div>
        <script src='handlePage.js'></script>
		<script>
convertAHref();
		</script>
	</body>
</html>